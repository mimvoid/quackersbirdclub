{{/*
  The base template for all pages.
  Since all HTML pages get minified, indentation and line breaks should not matter much.

  Docs: https://gohugo.io/templates
*/ -}}

<!DOCTYPE html>
<html lang="{{ .Language.Lang }}">
<head>
  {{- partial "head" . -}}
  {{- block "head-extra" . }}{{- end }}
</head>
<body class="{{ urlize .Type }} page-{{ .Kind }}">
  {{- partialCached "accessibility" . -}}
  {{- partialCached "header" . -}}

  <main id="content" class="wrap" {{ if .IsPage }}data-pagefind-body{{ end }}>
    {{ if not .Params.hideHeader }}
      <header
        {{ $banner := .Resources.Get "banner" }}
        {{ with $banner }}
          class="with-bg container wrap"
          style="background-image: url({{ .RelPermalink | safeCSS }});{{ with .Params.style }}{{ . }}{{ end }}"
        {{ else }}
          class="container content"
        {{ end }}
      >
        {{ if and .IsPage .Section }}
          {{- partial "breadcrumb" . -}}
        {{ end }}
        {{- block "title" . }}<h1 class="title">{{ .Title }}</h1>{{- end }}
        {{- if $banner }}{{ with .Summary }}<div class="subtitle">{{ . }}</div>{{ end }}{{ end }}
      </header>
    {{ end }}
    <article class="content container">
      {{- block "main" . }}
        {{ cond (and (.Resources.Get "banner") .Summary) .ContentWithoutSummary .Content -}}
      {{- end }}
    </article>
  </main>
  {{- partial "footer" . -}}
</body>
</html>
